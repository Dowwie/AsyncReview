# direnv configuration for synthesizer
# This file automatically activates the uv environment when you enter the project directory
# Run 'direnv allow' after generating the project to enable

# Use uv for Python environment management
source_up_if_exists

# Activate uv virtual environment
if command -v uv &> /dev/null; then
    # Create .venv if it doesn't exist
    if [ ! -d ".venv" ]; then
        echo "Creating virtual environment with uv..."
        uv venv
    fi

    # Activate the virtual environment
    source .venv/bin/activate
else
    echo "Warning: uv is not installed. Please install uv: https://docs.astral.sh/uv/"
fi


# Export project-specific environment variables
export PYTHONPATH="${PWD}/src:${PYTHONPATH}"


# LLM Provider toggle â€” set in .envrc.local
# export LLM_PROVIDER=openrouter
# export OPENROUTER_API_KEY=your-key-here

source_env_if_exists .envrc.local
